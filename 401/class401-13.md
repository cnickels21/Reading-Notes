# Reading Journal 401-13

## Code First Migrations

In Visual Studio, when creating a new web app with data base functionality, there is a fair amount of just setup that goes into it.  However, this setup becomes second nature after doing it a few times.  The important thing here is understanding the relationship between your code and your data base\(s\).  Once you have the scaffolding and core functionality of connecting to your data base, you then need to generate schemas and seed them accordingly.

This is where it gets fun.  There a couple of options for instantiating your data base.  You will need to create a class for each table you have in your ERD and define the columns as properties in the class.  When you use "ID" or "ClassNameID" VS is smart enough to know when these ID's act as primary or foreign keys, depending on their formal usage.  Now that the classes are defined, we will have a separate class that uses the entity framework core inside a method to create the empty tables with he corresponding columns properly.  In acute terms, that is basic setup for creating and instantiating your first .NET data base.

Another option we have is to use entity framework migrations to create a data base from a model so that the data base tables will evolve as the model changes.  This is the idea behind code first migrations.  How we set it up above requires us to seed the data base with test data.  We will drop the table and re-create it with our chosen seed data on startup, but with code first migrations, you are able to allow your table to persist and you can actively update and change the information inside of it through queries and defined routes for handling interactions.

At the end of the day, there are a lot of different ways to mutate, morph, and work with data bases in general, and you need to find what's best for you, your clients, and your program, speaking towards the bigger picture.  But remember, the data base is there to make storage and data handling more efficient for everyone.  Try not to over complicate the process, and try to make your data base interactions fluid within the program.  More on async/await coming up!